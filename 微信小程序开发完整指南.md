

# 社区食安AI小卫士 - 微信小程序开发完整指南

> **项目特色：** AI赋能的社区食品安全共治平台，通过智能识别、问答咨询、举报管理等功能，构建社区食品安全新生态。服务于"AI赋能社区食品安全共治新生态"社会实践项目。

## 🎯 项目概览

**项目名称：** 社区食安AI小卫士  
**开发周期：** 6周 (包含社会实践实施)  
**目标用户：** 社区居民、志愿者、监管部门  
**核心功能：** AI智能识别 + 安全咨询 + 举报管理 + 科普教育  

### 🛠️ 技术栈选择（已确定）

**前端技术栈：**
- **WXML** - 微信标记语言（类似HTML）
- **WXSS** - 微信样式表（类似CSS，但有限制）
- **JavaScript** - 逻辑层开发语言
- **微信小程序API** - 官方提供的接口能力
- **WeUI** - 微信官方UI组件库（适配老年人大字体需求）

**后端技术栈：**
- **Python + FastAPI** - 后端框架（轻量级、高性能）
- **PostgreSQL** - 数据库（存储用户数据、举报记录、营养标准）
- **Qwen3大语言模型** - AI智能问答、知识解读、内容生成
- **腾讯云/阿里云 OCR** - 图像文字识别服务
- **图像识别API** - 食品包装识别和分类
- **GB 28050-2011** - 国家营养标签标准（判断依据）

**AI服务层：**
- **Qwen3 API** - 智能问答、营养解读、健康建议生成
- **个性化推荐算法** - 基于用户行为的内容推荐
- **数据分析模块** - Python机器学习栈（pandas, numpy, scikit-learn）

**开发工具：**
- **微信开发者工具** - 官方IDE（必需）
- **Trae/Cursor** - AI辅助编程
- **GitHub** - 版本控制和项目管理
- **云服务器** - 后端部署环境

### 📱 微信小程序的技术限制

1. **代码包大小限制**：主包不超过2MB，总包不超过20MB
2. **网络请求限制**：只能请求HTTPS接口，需要在后台配置域名白名单
3. **本地存储限制**：单个key存储上限1MB，总存储上限10MB
4. **API限制**：不能使用DOM操作，不支持某些HTML5 API
5. **样式限制**：不支持某些CSS属性，尺寸单位推荐使用rpx

### 🎨 社区友好UI设计原则

**核心设计理念：简洁易用 + 多用户适配**

**多用户群体设计考虑：**
- **老年用户：** 大字体、高对比度、简化操作
- **年轻用户：** 现代化界面、快捷操作、丰富功能
- **志愿者/管理员：** 专业化界面、数据展示、批量操作

**字体与颜色规范：**
- **字体大小：** 主要文字 ≥ 28rpx，重要信息 ≥ 36rpx，老年模式 ≥ 40rpx
- **颜色对比：** 文字与背景对比度 ≥ 4.5:1（WCAG AA标准）
- **主色调：** 温和的蓝绿色系（#4CAF50 健康绿、#2196F3 信任蓝）
- **警示色：** 明显的红色（#F44336）和橙色（#FF9800）

**交互设计要点：**
- **按钮尺寸：** 最小点击区域 88rpx × 88rpx
- **间距设计：** 元素间距 ≥ 24rpx，避免误触
- **反馈机制：** 每个操作都有明确的视觉和文字反馈
- **错误处理：** 友好的错误提示，避免技术术语

**页面布局原则：**
- **单屏单任务：** 每个页面只专注一个核心功能
- **信息层级：** 最重要信息放在屏幕上半部分
- **导航简化：** 减少层级，最多3级导航

**AI设计工具使用：**
- **ChatGPT/Claude** - 生成老年人友好的文案和交互流程
- **Midjourney/DALL-E** - 生成简洁明了的图标素材
- **WeUI组件库** - 使用官方组件确保一致性

### 📂 项目结构设计

```
community-food-safety/
├── app.js                    # 小程序入口文件
├── app.json                  # 全局配置
├── app.wxss                  # 全局样式（多用户适配主题）
├── sitemap.json              # 搜索配置
├── project.config.json       # 项目配置
├── pages/                    # 页面目录
│   ├── index/                # 首页（功能导航）
│   ├── scan/                 # 智能识别页面
│   │   ├── camera/           # 拍照识别
│   │   ├── result/           # 识别结果
│   │   └── history/          # 识别历史
│   ├── consult/              # AI咨询页面
│   │   ├── chat/             # 智能问答
│   │   ├── knowledge/        # 知识库
│   │   └── faq/              # 常见问题
│   ├── report/               # 举报管理
│   │   ├── submit/           # 提交举报
│   │   ├── track/            # 举报跟踪
│   │   └── list/             # 举报列表（管理员）
│   ├── education/            # 科普教育
│   │   ├── articles/         # 科普文章
│   │   ├── videos/           # 教育视频
│   │   └── activities/       # 社区活动
│   ├── volunteer/            # 志愿者管理
│   │   ├── register/         # 志愿者注册
│   │   ├── tasks/            # 任务管理
│   │   └── training/         # 培训资料
│   ├── admin/                # 管理后台
│   │   ├── dashboard/        # 数据面板
│   │   ├── users/            # 用户管理
│   │   └── statistics/       # 统计分析
│   └── profile/              # 个人中心
│       ├── settings/         # 设置页面
│       ├── feedback/         # 意见反馈
│       └── about/            # 关于我们
├── components/               # 自定义组件
│   ├── nutrition-card/       # 营养成分卡片
│   ├── health-indicator/     # 健康指示器
│   ├── report-card/          # 举报信息卡片
│   ├── chat-bubble/          # 聊天气泡
│   ├── data-chart/           # 数据图表
│   ├── user-avatar/          # 用户头像
│   └── action-button/        # 操作按钮组件
├── utils/                    # 工具函数
│   ├── api.js               # API接口封装
│   ├── qwen.js              # Qwen3 AI服务
│   ├── nutrition.js         # 营养成分分析
│   ├── report.js            # 举报处理逻辑
│   ├── auth.js              # 用户认证
│   ├── storage.js           # 本地存储
│   ├── upload.js            # 文件上传
│   └── constants.js         # 常量定义
├── images/                   # 图片资源
│   ├── icons/               # 功能图标
│   ├── avatars/             # 默认头像
│   ├── guide/               # 使用指南
│   ├── education/           # 科普图片
│   └── placeholder/         # 占位图
└── styles/                   # 样式文件
    ├── theme.wxss           # 主题样式
    ├── common.wxss          # 通用样式
    ├── components.wxss      # 组件样式
    └── responsive.wxss      # 响应式样式
```

### 🚀 6周开发与实践流程详细指南

#### Phase 1: 技术核心开发 (第1-2周)

**Week 1: 基础架构搭建**
1. **项目初始化与配置**
   - 微信小程序注册与配置
   - GitHub仓库建立与团队协作设置
   - 开发环境搭建（前后端分离架构）
   - Qwen3 API接入测试

2. **核心后端开发**
   - FastAPI框架搭建
   - 用户认证系统（微信登录）
   - 数据库设计（用户、举报、营养数据）
   - OCR服务集成

**Week 2: 核心功能实现**
1. **AI服务集成**
   - Qwen3智能问答模块
   - 营养成分分析算法
   - 图像识别与处理

2. **前端核心页面**
   - 首页功能导航
   - 智能识别模块（拍照+结果）
   - AI咨询聊天界面

#### Phase 2: 功能扩展开发 (第3-4周)

**Week 3: 社区功能开发**
1. **举报管理系统**
   - 举报提交界面
   - 举报跟踪功能
   - 管理员审核后台

2. **志愿者管理模块**
   - 志愿者注册系统
   - 任务分配与管理
   - 培训资料展示

**Week 4: 科普教育与数据统计**
1. **科普教育模块**
   - 知识库建设
   - 科普文章展示
   - 社区活动发布

2. **数据统计面板**
   - 用户行为分析
   - 举报数据统计
   - 效果评估指标

#### Phase 3: 社会实践实施 (第5-6周)

**Week 5: 社区试点部署**
1. **普陀区社区对接**
   - 与社区居委会建立联系
   - 小程序部署与测试
   - 志愿者招募与培训

2. **用户培训推广**
   - 居民使用培训
   - 操作指南制作
   - 反馈收集机制建立

**Week 6: 数据收集与效果评估**
1. **实践数据收集**
   - 用户使用数据统计
   - 举报处理效果跟踪
   - 社区满意度调研

2. **项目总结与优化**
   - 效果评估报告
   - 功能优化建议
   - 可持续发展方案

#### P3: 集成测试与优化 (2025.08.11 - 2025.08.13)

**Day 10-12 关键任务：**
1. **功能测试**
   - 端到端测试用例
   - 真机测试（iOS + Android）
   - 老年人用户测试

2. **性能优化**
   - 图片压缩优化
   - API 响应时间优化
   - 页面加载速度优化

#### P4: 部署与发布 (2025.08.14 - 2025.08.16)

**Day 13-15 关键任务：**
1. **部署上线**
   - 后端服务器部署
   - 域名配置和 HTTPS 证书
   - 小程序代码上传

2. **审核发布**
   - 8月15日前提交审核
   - 准备审核材料
   - 8月16日正式发布

### 💡 AI工具使用建议

**代码生成（Trae/Cursor）：**
- 生成老年人友好的页面结构和样式
- 编写营养成分分析算法
- 优化图片处理和OCR集成代码
- 生成微信小程序API调用代码

**设计辅助：**
- 生成老年人友好的UI设计方案
- 创建简洁明了的图标和插画
- 设计营养成分的可视化展示
- 生成使用指南和帮助文档

**文案优化：**
- 生成老年人易懂的界面文案
- 优化错误提示和操作指引
- 创建健康建议和营养知识内容

**测试用例生成：**
- 生成各种营养成分表的测试图片
- 创建边界情况的测试用例
- 编写自动化测试脚本

### 🎯 关键成功因素

**技术层面：**
1. **OCR准确率** - 确保营养成分表识别准确率 > 80%
2. **响应速度** - 分析结果在10秒内返回
3. **界面适配** - 适配不同尺寸手机屏幕
4. **离线功能** - 基础功能支持弱网环境

**用户体验层面：**
1. **操作简单** - 3步完成核心功能（拍照→识别→查看结果）
2. **视觉清晰** - 大字体、高对比度、红绿灯指示
3. **反馈及时** - 每个操作都有明确反馈
4. **错误友好** - 出错时提供简单明了的解决方案

**产品策略：**
1. **MVP优先** - 专注核心功能，避免功能冗余
2. **用户测试** - 邀请真实老年用户参与测试
3. **迭代优化** - 基于用户反馈快速迭代
4. **数据驱动** - 通过用户行为数据优化产品

### 📋 开发检查清单

**上线前必检项目：**
- [ ] 微信小程序审核材料准备完整
- [ ] 后端API接口稳定性测试通过
- [ ] OCR服务商账号和配额确认
- [ ] 真机测试覆盖主流机型
- [ ] 老年人用户测试反馈收集
- [ ] 性能指标达到预期目标
- [ ] 错误处理和异常情况覆盖
- [ ] 数据安全和隐私保护措施

**持续优化方向：**
- 根据用户使用数据优化OCR识别准确率
- 基于反馈优化界面布局和交互流程
- 扩展更多营养知识和健康建议
- 考虑增加语音播报功能（无障碍设计）